
tests/core/test_requester.py::test_sync_executor_retries_success
-------------------------------- live log call ---------------------------------
INFO     httpx:_client.py:1025 HTTP Request: GET https://api.test/ping "HTTP/1.1 200 OK"
INFO     imednet.core._requester:_requester.py:126 http_request
PASSED                                                                   [  0%]
tests/core/test_requester.py::test_async_executor_error_mapping
-------------------------------- live log call ---------------------------------
INFO     httpx:_client.py:1740 HTTP Request: GET https://api.test/bad "HTTP/1.1 404 Not Found"
INFO     imednet.core._requester:_requester.py:163 http_request
PASSED                                                                   [  0%]
tests/core/test_retry_policy.py::test_default_policy_request_error PASSED [  0%]
tests/core/test_retry_policy.py::test_default_policy_non_retryable_response_and_exception PASSED [  0%]
tests/core/test_retry_policy.py::test_default_policy_non_request_exception PASSED [  0%]
tests/core/test_retry_policy.py::test_custom_policy PASSED               [  1%]
tests/core/test_retry_policy.py::test_custom_policy_based_on_result PASSED [  1%]
tests/integration/test_airflow_dag.py::test_dag_runs SKIPPED (could ...) [  1%]
tests/integration/test_cli_integration.py::test_cli_rejects_missing_credentials PASSED [  1%]
tests/integration/test_cli_integration.py::test_studies_list_success PASSED [  1%]
tests/integration/test_cli_integration.py::test_records_list_output_csv PASSED [  1%]
tests/integration/test_cli_integration.py::test_extract_records_cli_parses_filters PASSED [  2%]
tests/integration/test_cli_integration.py::test_invalid_filter_string PASSED [  2%]
tests/integration/test_core_client_integration.py::test_successful_get_sync_client PASSED [  2%]
tests/integration/test_core_client_integration.py::test_retry_on_transient_500 PASSED [  2%]
tests/integration/test_core_client_integration.py::test_authentication_error PASSED [  2%]
tests/integration/test_core_client_integration.py::test_timeout_handling PASSED [  2%]
tests/integration/test_core_client_integration.py::test_tracer_records_span PASSED [  3%]
tests/integration/test_endpoints_integration.py::test_studies_list_pagination PASSED [  3%]
tests/integration/test_endpoints_integration.py::test_records_list_filter_param PASSED [  3%]
tests/integration/test_endpoints_integration.py::test_async_endpoint_mirror PASSED [  3%]
tests/integration/test_export_airflow_integration.py::test_export_to_csv PASSED [  3%]
tests/integration/test_export_airflow_integration.py::test_export_to_sql PASSED [  3%]
tests/integration/test_export_airflow_integration.py::test_imednet_export_operator PASSED [  4%]
tests/integration/test_export_airflow_integration.py::test_imednet_hook_returns_sdk PASSED [  4%]
tests/integration/test_export_airflow_integration.py::test_to_s3_operator_uploads PASSED [  4%]
tests/integration/test_sqlite_export_modes.py::test_default_sqlite_mode_splits_by_form PASSED [  4%]
tests/integration/test_sqlite_export_modes.py::test_single_table_mode_chunks PASSED [  4%]
tests/integration/test_workflows_integration.py::test_data_extraction_filters PASSED [  4%]
tests/integration/test_workflows_integration.py::test_record_update_submit_and_wait PASSED [  5%]
tests/integration/test_workflows_integration.py::test_subject_data_aggregation PASSED [  5%]
tests/integration/test_workflows_integration.py::test_query_management_counts PASSED [  5%]
tests/integration/test_workflows_integration.py::test_data_extraction_no_matching_subjects PASSED [  5%]
tests/integration/test_workflows_integration.py::test_record_update_timeout PASSED [  5%]
tests/integration/test_workflows_integration.py::test_get_open_queries PASSED [  5%]
tests/live/test_cli_live.py::test_cli_studies_list SKIPPED (Set IMED...) [  6%]
tests/live/test_cli_live.py::test_cli_sites_list SKIPPED (Set IMEDNE...) [  6%]
tests/live/test_cli_live.py::test_cli_subjects_list SKIPPED (Set IME...) [  6%]
tests/live/test_cli_live.py::test_cli_records_list SKIPPED (Set IMED...) [  6%]
tests/live/test_cli_live.py::test_cli_jobs_status SKIPPED (Set IMEDN...) [  6%]
tests/live/test_cli_live.py::test_cli_jobs_wait SKIPPED (Set IMEDNET...) [  6%]
tests/live/test_cli_live.py::test_cli_export_parquet SKIPPED (Set IM...) [  7%]
tests/live/test_cli_live.py::test_cli_export_csv SKIPPED (Set IMEDNE...) [  7%]
tests/live/test_cli_live.py::test_cli_export_excel SKIPPED (Set IMED...) [  7%]
tests/live/test_cli_live.py::test_cli_export_json SKIPPED (Set IMEDN...) [  7%]
tests/live/test_cli_live.py::test_cli_export_sql_chunks_tables SKIPPED   [  7%]
tests/live/test_cli_live.py::test_cli_workflows_extract SKIPPED (Set...) [  7%]
tests/live/test_endpoints_async_live.py::test_async_sites SKIPPED (S...) [  8%]
tests/live/test_endpoints_async_live.py::test_async_subjects SKIPPED     [  8%]
tests/live/test_endpoints_async_live.py::test_async_records SKIPPED      [  8%]
tests/live/test_endpoints_async_live.py::test_async_intervals SKIPPED    [  8%]
tests/live/test_endpoints_async_live.py::test_async_visits SKIPPED (...) [  8%]
tests/live/test_endpoints_async_live.py::test_async_variables SKIPPED    [  8%]
tests/live/test_endpoints_async_live.py::test_async_forms SKIPPED (S...) [  9%]
tests/live/test_endpoints_async_live.py::test_async_queries SKIPPED      [  9%]
tests/live/test_endpoints_async_live.py::test_async_record_revisions SKIPPED [  9%]
tests/live/test_endpoints_async_live.py::test_async_users SKIPPED (S...) [  9%]
tests/live/test_endpoints_async_live.py::test_async_codings SKIPPED      [  9%]
tests/live/test_endpoints_async_live.py::test_async_create_and_poll[register] SKIPPED [  9%]
tests/live/test_endpoints_async_live.py::test_async_create_and_poll[scheduled] SKIPPED [ 10%]
tests/live/test_endpoints_async_live.py::test_async_create_and_poll[new] SKIPPED [ 10%]
tests/live/test_endpoints_sync_live.py::test_list_studies SKIPPED (S...) [ 10%]
tests/live/test_endpoints_sync_live.py::test_list_sites SKIPPED (Set...) [ 10%]
tests/live/test_endpoints_sync_live.py::test_get_study SKIPPED (Set ...) [ 10%]
tests/live/test_endpoints_sync_live.py::test_list_forms SKIPPED (Set...) [ 10%]
tests/live/test_endpoints_sync_live.py::test_list_subjects SKIPPED (...) [ 11%]
tests/live/test_endpoints_sync_live.py::test_list_records SKIPPED (S...) [ 11%]
tests/live/test_endpoints_sync_live.py::test_list_intervals SKIPPED      [ 11%]
tests/live/test_endpoints_sync_live.py::test_list_visits SKIPPED (Se...) [ 11%]
tests/live/test_endpoints_sync_live.py::test_list_variables SKIPPED      [ 11%]
tests/live/test_endpoints_sync_live.py::test_list_users SKIPPED (Set...) [ 11%]
tests/live/test_endpoints_sync_live.py::test_list_queries SKIPPED (S...) [ 12%]
tests/live/test_endpoints_sync_live.py::test_list_record_revisions SKIPPED [ 12%]
tests/live/test_endpoints_sync_live.py::test_job_get_known_batch SKIPPED [ 12%]
tests/live/test_endpoints_sync_live.py::test_create_record_and_poll_job[register] SKIPPED [ 12%]
tests/live/test_endpoints_sync_live.py::test_create_record_and_poll_job[scheduled] SKIPPED [ 12%]
tests/live/test_endpoints_sync_live.py::test_create_record_and_poll_job[new] SKIPPED [ 12%]
tests/live/test_endpoints_sync_live.py::test_list_codings SKIPPED (S...) [ 13%]
tests/live/test_integrations_live.py::test_export_to_csv SKIPPED (Se...) [ 13%]
tests/live/test_integrations_live.py::test_export_to_excel SKIPPED (...) [ 13%]
tests/live/test_integrations_live.py::test_export_to_json SKIPPED (S...) [ 13%]
tests/live/test_integrations_live.py::test_export_to_parquet SKIPPED     [ 13%]
tests/live/test_integrations_live.py::test_export_to_sql_handles_column_limit SKIPPED [ 13%]
tests/live/test_integrations_live.py::test_imednet_hook SKIPPED (Set...) [ 14%]
tests/live/test_integrations_live.py::test_imednet_export_operator SKIPPED [ 14%]
tests/live/test_integrations_live.py::test_imednet_to_s3_operator SKIPPED [ 14%]
tests/live/test_integrations_live.py::test_imednet_job_sensor SKIPPED    [ 14%]
tests/live/test_schema_validator_live.py::test_validator_unknown_variable SKIPPED [ 14%]
tests/live/test_schema_validator_live.py::test_validator_wrong_type SKIPPED [ 14%]
tests/live/test_sdk_utilities_live.py::test_get_studies SKIPPED (Set...) [ 15%]
tests/live/test_sdk_utilities_live.py::test_get_records SKIPPED (Set...) [ 15%]
tests/live/test_sdk_utilities_live.py::test_get_sites SKIPPED (Set I...) [ 15%]
tests/live/test_sdk_utilities_live.py::test_get_subjects SKIPPED (Se...) [ 15%]
tests/live/test_sdk_utilities_live.py::test_get_forms SKIPPED (Set I...) [ 15%]
tests/live/test_sdk_utilities_live.py::test_get_intervals SKIPPED (S...) [ 15%]
tests/live/test_sdk_utilities_live.py::test_get_variables SKIPPED (S...) [ 16%]
tests/live/test_sdk_utilities_live.py::test_get_visits SKIPPED (Set ...) [ 16%]
tests/live/test_sdk_utilities_live.py::test_get_codings SKIPPED (Set...) [ 16%]
tests/live/test_sdk_utilities_live.py::test_get_queries SKIPPED (Set...) [ 16%]
tests/live/test_sdk_utilities_live.py::test_get_record_revisions SKIPPED [ 16%]
tests/live/test_sdk_utilities_live.py::test_get_users SKIPPED (Set I...) [ 17%]
tests/live/test_sdk_utilities_live.py::test_get_job SKIPPED (Set IME...) [ 17%]
tests/live/test_sdk_utilities_live.py::test_poll_job SKIPPED (Set IM...) [ 17%]
tests/live/test_workflows_live.py::test_get_study_structure SKIPPED      [ 17%]
tests/live/test_workflows_live.py::test_async_get_study_structure SKIPPED [ 17%]
tests/live/test_workflows_live.py::test_register_subjects_workflow SKIPPED [ 17%]
tests/live/test_workflows_live.py::test_extract_records_by_criteria SKIPPED [ 18%]
tests/live/test_workflows_live.py::test_extract_audit_trail SKIPPED      [ 18%]
tests/live/test_workflows_live.py::test_subject_data_workflow SKIPPED    [ 18%]
tests/live/test_workflows_live.py::test_query_management_open_queries SKIPPED [ 18%]
tests/live/test_workflows_live.py::test_query_management_for_subject SKIPPED [ 18%]
tests/live/test_workflows_live.py::test_query_management_by_site SKIPPED [ 18%]
tests/live/test_workflows_live.py::test_query_management_state_counts SKIPPED [ 19%]
tests/live/test_workflows_live.py::test_record_mapper_dataframe SKIPPED  [ 19%]
tests/live/test_workflows_live.py::test_record_update_submit_batch SKIPPED [ 19%]
tests/live/test_workflows_live.py::test_record_update_register_subject SKIPPED [ 19%]
tests/live/test_workflows_live.py::test_record_update_update_scheduled SKIPPED [ 19%]
tests/live/test_workflows_live.py::test_record_update_create_new SKIPPED [ 19%]
tests/test_mermaid_diagrams.py::test_no_unquoted_parentheses_in_mermaid_blocks PASSED [ 20%]
tests/unit/async/test_async_client.py::test_get_request PASSED           [ 20%]
tests/unit/async/test_async_paginator.py::test_iterates_pages PASSED     [ 20%]
tests/unit/cli/test_cli.py::test_missing_env_vars PASSED                 [ 20%]
tests/unit/cli/test_cli.py::test_studies_list_success PASSED             [ 20%]
tests/unit/cli/test_cli.py::test_studies_list_api_error PASSED           [ 20%]
tests/unit/cli/test_cli.py::test_sdk_closed_after_command PASSED         [ 21%]
tests/unit/cli/test_cli.py::test_multiple_invocations_close_sdk PASSED   [ 21%]
tests/unit/cli/test_cli.py::test_sites_list_success PASSED               [ 21%]
tests/unit/cli/test_cli.py::test_sites_list_missing_argument PASSED      [ 21%]
tests/unit/cli/test_cli.py::test_sites_list_api_error PASSED             [ 21%]
tests/unit/cli/test_cli.py::test_subjects_list_success PASSED            [ 21%]
tests/unit/cli/test_cli.py::test_subjects_list_invalid_filter PASSED     [ 22%]
tests/unit/cli/test_cli.py::test_subjects_list_api_error PASSED          [ 22%]
tests/unit/cli/test_cli.py::test_extract_records_calls_workflow PASSED   [ 22%]
tests/unit/cli/test_cli.py::test_extract_records_api_error PASSED        [ 22%]
tests/unit/cli/test_cli.py::test_records_list_success PASSED             [ 22%]
tests/unit/cli/test_cli.py::test_records_list_output_csv PASSED          [ 22%]
tests/unit/cli/test_cli.py::test_records_list_output_json PASSED         [ 23%]
tests/unit/cli/test_cli.py::test_records_list_no_records PASSED          [ 23%]
tests/unit/cli/test_cli.py::test_records_list_invalid_output PASSED      [ 23%]
tests/unit/cli/test_cli.py::test_records_list_api_error PASSED           [ 23%]
tests/unit/cli/test_cli.py::test_export_parquet_calls_helper PASSED      [ 23%]
tests/unit/cli/test_cli.py::test_export_csv_calls_helper PASSED          [ 23%]
tests/unit/cli/test_cli.py::test_export_excel_calls_helper PASSED        [ 24%]
tests/unit/cli/test_cli.py::test_export_json_calls_helper PASSED         [ 24%]
tests/unit/cli/test_cli.py::test_export_sql_calls_helper_non_sqlite PASSED [ 24%]
tests/unit/cli/test_cli.py::test_export_sql_sqlite_uses_by_form PASSED   [ 24%]
tests/unit/cli/test_cli.py::test_export_sql_sqlite_single_table PASSED   [ 24%]
tests/unit/cli/test_cli.py::test_export_sql_long_format PASSED           [ 24%]
tests/unit/cli/test_cli.py::test_export_sql_long_format_overrides_single PASSED [ 25%]
tests/unit/cli/test_cli.py::test_export_parquet_missing_pyarrow PASSED   [ 25%]
tests/unit/cli/test_cli.py::test_export_sql_missing_sqlalchemy PASSED    [ 25%]
tests/unit/cli/test_cli.py::test_subject_data_calls_workflow PASSED      [ 25%]
tests/unit/cli/test_cli.py::test_queries_list_success PASSED             [ 25%]
tests/unit/cli/test_cli.py::test_queries_list_empty PASSED               [ 25%]
tests/unit/cli/test_cli.py::test_variables_list_success PASSED           [ 26%]
tests/unit/cli/test_cli.py::test_variables_list_empty PASSED             [ 26%]
tests/unit/cli/test_cli.py::test_record_revisions_list_success PASSED    [ 26%]
tests/unit/cli/test_cli.py::test_record_revisions_list_empty PASSED      [ 26%]
tests/unit/cli/test_cli.py::test_jobs_status_success PASSED              [ 26%]
tests/unit/cli/test_cli.py::test_jobs_wait_success PASSED                [ 26%]
tests/unit/cli/test_decorators.py::test_decorator_handles_unexpected_error PASSED [ 27%]
tests/unit/cli/test_parse_filters.py::test_parse_filter_args_none PASSED [ 27%]
tests/unit/cli/test_parse_filters.py::test_parse_filter_args_types PASSED [ 27%]
tests/unit/cli/test_parse_filters.py::test_parse_filter_args_invalid PASSED [ 27%]
tests/unit/cli/test_utils_output.py::test_fetching_status_records PASSED [ 27%]
tests/unit/cli/test_utils_output.py::test_display_list_non_empty PASSED  [ 27%]
tests/unit/cli/test_utils_output.py::test_display_list_empty PASSED      [ 28%]
tests/unit/cli/test_utils_output.py::test_display_list_table PASSED      [ 28%]
tests/unit/cli/test_utils_output.py::test_display_list_formatting PASSED [ 28%]
tests/unit/endpoints/test_base_endpoint.py::TestBaseEndpoint::test_require_async_client_raises PASSED [ 28%]
tests/unit/endpoints/test_base_endpoint.py::TestBaseEndpoint::test_fallback_from_list_raises_when_not_found PASSED [ 28%]
tests/unit/endpoints/test_base_endpoint.py::TestBaseEndpoint::test_async_fallback_from_list_raises_when_not_found PASSED [ 28%]
tests/unit/endpoints/test_base_endpoint.py::TestBaseEndpoint::test_auto_filter_injects_study_key PASSED [ 29%]
tests/unit/endpoints/test_base_endpoint.py::TestBaseEndpoint::test_auto_filter_preserves_existing_study_key PASSED [ 29%]
tests/unit/endpoints/test_codings_endpoint.py::test_list_requires_study_key PASSED [ 29%]
tests/unit/endpoints/test_codings_endpoint.py::test_get_not_found PASSED [ 29%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_records PASSED [ 29%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_codings PASSED [ 29%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_forms PASSED [ 30%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_intervals PASSED [ 30%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_queries PASSED [ 30%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_record_revisions PASSED [ 30%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_sites PASSED [ 30%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_subjects PASSED [ 30%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_users PASSED [ 31%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_variables PASSED [ 31%]
tests/unit/endpoints/test_endpoints_async.py::test_async_list_visits PASSED [ 31%]
tests/unit/endpoints/test_endpoints_async.py::test_async_get_job PASSED  [ 31%]
tests/unit/endpoints/test_endpoints_async.py::test_async_get_record PASSED [ 31%]
tests/unit/endpoints/test_endpoints_async.py::test_async_get_record_not_found PASSED [ 31%]
tests/unit/endpoints/test_endpoints_async.py::test_async_create_record PASSED [ 32%]
tests/unit/endpoints/test_forms_endpoint.py::test_list_requires_study_key_and_page_size PASSED [ 32%]
tests/unit/endpoints/test_forms_endpoint.py::test_get_success PASSED     [ 32%]
tests/unit/endpoints/test_forms_endpoint.py::test_get_not_found PASSED   [ 32%]
tests/unit/endpoints/test_forms_endpoint.py::test_list_caches_by_study_key PASSED [ 32%]
tests/unit/endpoints/test_forms_endpoint.py::test_list_refresh_bypasses_cache PASSED [ 32%]
tests/unit/endpoints/test_intervals_endpoint.py::test_list_uses_default_study_and_page_size PASSED [ 33%]
tests/unit/endpoints/test_intervals_endpoint.py::test_get_not_found PASSED [ 33%]
tests/unit/endpoints/test_intervals_endpoint.py::test_list_caches_by_study_key PASSED [ 33%]
tests/unit/endpoints/test_intervals_endpoint.py::test_list_refresh_bypasses_cache PASSED [ 33%]
tests/unit/endpoints/test_jobs_endpoint.py::test_get_success PASSED      [ 33%]
tests/unit/endpoints/test_jobs_endpoint.py::test_get_not_found PASSED    [ 34%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[CodingsEndpoint-imednet.endpoints.codings-Coding-C1] PASSED [ 34%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[FormsEndpoint-imednet.endpoints.forms-Form-1] PASSED [ 34%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[IntervalsEndpoint-imednet.endpoints.intervals-Interval-1] PASSED [ 34%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[QueriesEndpoint-imednet.endpoints.queries-Query-1] PASSED [ 34%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[RecordRevisionsEndpoint-imednet.endpoints.record_revisions-RecordRevision-1] PASSED [ 34%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[RecordsEndpoint-imednet.endpoints.records-Record-1] PASSED [ 35%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[SitesEndpoint-imednet.endpoints.sites-Site-1] PASSED [ 35%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[StudiesEndpoint-imednet.endpoints.studies-Study-S1] PASSED [ 35%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[SubjectsEndpoint-imednet.endpoints.subjects-Subject-SUB] PASSED [ 35%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[UsersEndpoint-imednet.endpoints.users-User-1] PASSED [ 35%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[VariablesEndpoint-imednet.endpoints.variables-Variable-1] PASSED [ 35%]
tests/unit/endpoints/test_list_get.py::test_list_and_get[VisitsEndpoint-imednet.endpoints.visits-Visit-1] PASSED [ 36%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[CodingsEndpoint-imednet.endpoints.codings-Coding-C1] PASSED [ 36%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[FormsEndpoint-imednet.endpoints.forms-Form-1] PASSED [ 36%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[IntervalsEndpoint-imednet.endpoints.intervals-Interval-1] PASSED [ 36%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[QueriesEndpoint-imednet.endpoints.queries-Query-1] PASSED [ 36%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[RecordRevisionsEndpoint-imednet.endpoints.record_revisions-RecordRevision-1] PASSED [ 36%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[RecordsEndpoint-imednet.endpoints.records-Record-1] PASSED [ 37%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[SitesEndpoint-imednet.endpoints.sites-Site-1] PASSED [ 37%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[StudiesEndpoint-imednet.endpoints.studies-Study-S1] PASSED [ 37%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[SubjectsEndpoint-imednet.endpoints.subjects-Subject-SUB] PASSED [ 37%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[UsersEndpoint-imednet.endpoints.users-User-1] PASSED [ 37%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[VariablesEndpoint-imednet.endpoints.variables-Variable-1] PASSED [ 37%]
tests/unit/endpoints/test_list_get.py::test_async_list_and_get[VisitsEndpoint-imednet.endpoints.visits-Visit-1] PASSED [ 38%]
tests/unit/endpoints/test_queries_endpoint.py::test_list_builds_path_and_filters PASSED [ 38%]
tests/unit/endpoints/test_queries_endpoint.py::test_get_not_found PASSED [ 38%]
tests/unit/endpoints/test_record_revisions_endpoint.py::test_list_uses_filters PASSED [ 38%]
tests/unit/endpoints/test_record_revisions_endpoint.py::test_get_not_found PASSED [ 38%]
tests/unit/endpoints/test_records_endpoint.py::test_list_builds_path_filters_and_data_filter PASSED [ 38%]
tests/unit/endpoints/test_records_endpoint.py::test_get_success PASSED   [ 39%]
tests/unit/endpoints/test_records_endpoint.py::test_get_not_found PASSED [ 39%]
tests/unit/endpoints/test_records_endpoint.py::test_create_sends_headers_and_parses_job PASSED [ 39%]
tests/unit/endpoints/test_records_endpoint.py::test_create_validates_data PASSED [ 39%]
tests/unit/endpoints/test_records_endpoint.py::test_create_validates_data_with_snake_case_keys PASSED [ 39%]
tests/unit/endpoints/test_sites_endpoint.py::test_list_requires_study_key PASSED [ 39%]
tests/unit/endpoints/test_sites_endpoint.py::test_get_not_found PASSED   [ 40%]
tests/unit/endpoints/test_studies_endpoint.py::test_list_builds_path_and_filters PASSED [ 40%]
tests/unit/endpoints/test_studies_endpoint.py::test_get_success PASSED   [ 40%]
tests/unit/endpoints/test_studies_endpoint.py::test_get_not_found PASSED [ 40%]
tests/unit/endpoints/test_studies_endpoint.py::test_list_caches_results PASSED [ 40%]
tests/unit/endpoints/test_studies_endpoint.py::test_list_refresh_bypasses_cache PASSED [ 40%]
tests/unit/endpoints/test_studies_endpoint_async.py::test_async_list_builds_path_and_filters PASSED [ 41%]
tests/unit/endpoints/test_subjects_endpoint.py::test_list_builds_path_with_default PASSED [ 41%]
tests/unit/endpoints/test_subjects_endpoint.py::test_get_not_found PASSED [ 41%]
tests/unit/endpoints/test_users_endpoint.py::test_list_requires_study_key_and_include_inactive PASSED [ 41%]
tests/unit/endpoints/test_users_endpoint.py::test_get_not_found PASSED   [ 41%]
tests/unit/endpoints/test_variables_endpoint.py::test_list_requires_study_key_page_size PASSED [ 41%]
tests/unit/endpoints/test_variables_endpoint.py::test_get_not_found PASSED [ 42%]
tests/unit/endpoints/test_variables_endpoint.py::test_list_caches_by_study_key PASSED [ 42%]
tests/unit/endpoints/test_variables_endpoint.py::test_list_refresh_bypasses_cache PASSED [ 42%]
tests/unit/endpoints/test_visits_endpoint.py::test_list_filters_and_path PASSED [ 42%]
tests/unit/endpoints/test_visits_endpoint.py::test_get_not_found PASSED  [ 42%]
tests/unit/test_airflow_deprecation.py::test_airflow_shim_warns_and_re_exports PASSED [ 42%]
tests/unit/test_airflow_integration.py::test_imednet_hook_returns_sdk PASSED [ 43%]
tests/unit/test_airflow_integration.py::test_export_operator_calls_helper PASSED [ 43%]
tests/unit/test_airflow_operators.py::test_to_s3_operator_success PASSED [ 43%]
tests/unit/test_airflow_operators.py::test_to_s3_operator_missing_list PASSED [ 43%]
tests/unit/test_airflow_operators.py::test_job_sensor PASSED             [ 43%]
tests/unit/test_base_client.py::test_initialization_from_env PASSED      [ 43%]
tests/unit/test_base_url_normalization.py::test_client_strips_api_suffix PASSED [ 44%]
tests/unit/test_base_url_normalization.py::test_async_client_strips_api_suffix PASSED [ 44%]
tests/unit/test_client.py::test_get_success PASSED                       [ 44%]
tests/unit/test_client.py::test_request_error_mapping[400-BadRequestError] PASSED [ 44%]
tests/unit/test_client.py::test_request_error_mapping[401-UnauthorizedError] PASSED [ 44%]
tests/unit/test_client.py::test_request_error_mapping[403-ForbiddenError] PASSED [ 44%]
tests/unit/test_client.py::test_request_error_mapping[404-NotFoundError] PASSED [ 45%]
tests/unit/test_client.py::test_request_error_mapping[409-ConflictError] PASSED [ 45%]
tests/unit/test_client.py::test_request_error_mapping[429-RateLimitError] PASSED [ 45%]
tests/unit/test_client.py::test_request_error_mapping[500-ServerError] PASSED [ 45%]
tests/unit/test_client.py::test_client_sends_auth_headers PASSED         [ 45%]
tests/unit/test_config.py::test_load_config_from_env PASSED              [ 45%]
tests/unit/test_config.py::test_load_config_overrides_env PASSED         [ 46%]
tests/unit/test_config.py::test_load_config_missing PASSED               [ 46%]
tests/unit/test_core_async_client.py::test_async_get_success PASSED      [ 46%]
tests/unit/test_core_async_client_extended.py::test_async_request_retries PASSED [ 46%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[400-ValidationError] PASSED [ 46%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[401-AuthenticationError] PASSED [ 46%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[403-AuthorizationError] PASSED [ 47%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[404-NotFoundError] PASSED [ 47%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[429-RateLimitError] PASSED [ 47%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[500-ServerError] PASSED [ 47%]
tests/unit/test_core_async_client_extended.py::test_async_request_error_mapping[418-ApiError] PASSED [ 47%]
tests/unit/test_core_async_client_extended.py::test_tracing PASSED       [ 47%]
tests/unit/test_core_client.py::test_initialization_sets_defaults PASSED [ 48%]
tests/unit/test_core_client.py::test_retry_logic_retries_request_errors PASSED [ 48%]
tests/unit/test_core_client.py::test_request_error_mapping[400-BadRequestError] PASSED [ 48%]
tests/unit/test_core_client.py::test_request_error_mapping[401-UnauthorizedError] PASSED [ 48%]
tests/unit/test_core_client.py::test_request_error_mapping[403-ForbiddenError] PASSED [ 48%]
tests/unit/test_core_client.py::test_request_error_mapping[404-NotFoundError] PASSED [ 48%]
tests/unit/test_core_client.py::test_request_error_mapping[409-ConflictError] PASSED [ 49%]
tests/unit/test_core_client.py::test_request_error_mapping[429-RateLimitError] PASSED [ 49%]
tests/unit/test_core_client.py::test_request_error_mapping[500-ServerError] PASSED [ 49%]
tests/unit/test_core_client.py::test_request_error_mapping[418-ApiError] PASSED [ 49%]
tests/unit/test_core_client.py::test_tracer_records_span PASSED          [ 49%]
tests/unit/test_core_client.py::test_base_url_sanitized PASSED           [ 50%]
tests/unit/test_core_client.py::test_retry_policy_accessor_updates_executor PASSED [ 50%]
tests/unit/test_core_context.py::test_set_and_clear_default_study_key PASSED [ 50%]
tests/unit/test_core_exceptions.py::test_api_error_str_includes_details PASSED [ 50%]
tests/unit/test_core_exceptions.py::test_exception_hierarchy PASSED      [ 50%]
tests/unit/test_core_paginator.py::test_single_page_iteration PASSED     [ 50%]
tests/unit/test_core_paginator.py::test_multiple_page_iteration PASSED   [ 51%]
tests/unit/test_data_dictionary.py::test_from_directory PASSED           [ 51%]
tests/unit/test_data_dictionary.py::test_from_zip PASSED                 [ 51%]
tests/unit/test_discovery.py::test_discover_form_key_chooses_subject_form PASSED [ 51%]
tests/unit/test_discovery.py::test_discover_form_key_raises_when_no_valid_forms PASSED [ 51%]
tests/unit/test_discovery.py::test_discover_site_name_returns_active_site PASSED [ 51%]
tests/unit/test_discovery.py::test_discover_site_name_raises_when_no_active PASSED [ 52%]
tests/unit/test_discovery.py::test_discover_subject_key_returns_active_subject PASSED [ 52%]
tests/unit/test_discovery.py::test_discover_subject_key_raises_when_no_active PASSED [ 52%]
tests/unit/test_discovery.py::test_discover_interval_name_returns_active_interval PASSED [ 52%]
tests/unit/test_discovery.py::test_discover_interval_name_raises_when_all_disabled PASSED [ 52%]
tests/unit/test_discovery_helpers.py::test_discover_study_key_returns_first PASSED [ 52%]
tests/unit/test_discovery_helpers.py::test_discover_study_key_raises_when_empty PASSED [ 53%]
tests/unit/test_discovery_helpers.py::test_discover_form_key_returns_first_matching PASSED [ 53%]
tests/unit/test_discovery_helpers.py::test_discover_form_key_raises_when_empty PASSED [ 53%]
tests/unit/test_discovery_helpers.py::test_discover_site_name_returns_first_active PASSED [ 53%]
tests/unit/test_discovery_helpers.py::test_discover_site_name_raises_when_empty PASSED [ 53%]
tests/unit/test_discovery_helpers.py::test_discover_subject_key_returns_first_active PASSED [ 53%]
tests/unit/test_discovery_helpers.py::test_discover_subject_key_raises_when_empty PASSED [ 54%]
tests/unit/test_discovery_helpers.py::test_discover_interval_name_returns_first_enabled PASSED [ 54%]
tests/unit/test_discovery_helpers.py::test_discover_interval_name_raises_when_empty PASSED [ 54%]
tests/unit/test_integrations_export.py::test_export_to_csv PASSED        [ 54%]
tests/unit/test_integrations_export.py::test_export_to_excel PASSED      [ 54%]
tests/unit/test_integrations_export.py::test_export_to_json PASSED       [ 54%]
tests/unit/test_integrations_export.py::test_export_to_parquet PASSED    [ 55%]
tests/unit/test_integrations_export.py::test_export_to_sql PASSED        [ 55%]
tests/unit/test_integrations_export.py::test_export_functions_handle_duplicate_columns PASSED [ 55%]
tests/unit/test_integrations_export.py::test_export_functions_handle_case_insensitive_duplicates PASSED [ 55%]
tests/unit/test_integrations_export.py::test_export_sql_too_many_columns PASSED [ 55%]
tests/unit/test_integrations_export.py::test_export_to_sql_by_form PASSED [ 55%]
tests/unit/test_integrations_export.py::test_export_to_long_sql PASSED   [ 56%]
tests/unit/test_job_poller.py::test_job_poller_success[False] PASSED     [ 56%]
tests/unit/test_job_poller.py::test_job_poller_success[True] PASSED      [ 56%]
tests/unit/test_job_poller.py::test_job_poller_timeout[False] PASSED     [ 56%]
tests/unit/test_job_poller.py::test_job_poller_timeout[True] PASSED      [ 56%]
tests/unit/test_job_poller.py::test_job_poller_failed[False] PASSED      [ 56%]
tests/unit/test_job_poller.py::test_job_poller_failed[True] PASSED       [ 57%]
tests/unit/test_json_model_normalization.py::test_json_model_normalization PASSED [ 57%]
tests/unit/test_json_roundtrip.py::test_json_roundtrip[Subject-fake_subject] PASSED [ 57%]
tests/unit/test_json_roundtrip.py::test_json_roundtrip[Form-fake_form] PASSED [ 57%]
tests/unit/test_json_roundtrip.py::test_json_roundtrip[Job-fake_job] PASSED [ 57%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Coding] PASSED [ 57%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Form] PASSED [ 58%]
tests/unit/test_models.py::test_model_instantiation_and_dump[FormSummary] PASSED [ 58%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Interval] PASSED [ 58%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Job] PASSED [ 58%]
tests/unit/test_models.py::test_model_instantiation_and_dump[JobStatus] PASSED [ 58%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Query] PASSED [ 58%]
tests/unit/test_models.py::test_model_instantiation_and_dump[QueryComment] PASSED [ 59%]
tests/unit/test_models.py::test_model_instantiation_and_dump[RecordRevision] PASSED [ 59%]
tests/unit/test_models.py::test_model_instantiation_and_dump[BaseRecordRequest] PASSED [ 59%]
tests/unit/test_models.py::test_model_instantiation_and_dump[CreateNewRecordRequest] PASSED [ 59%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Keyword] PASSED [ 59%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Record] PASSED [ 59%]
tests/unit/test_models.py::test_model_instantiation_and_dump[RecordData] PASSED [ 60%]
tests/unit/test_models.py::test_model_instantiation_and_dump[RecordJobResponse] PASSED [ 60%]
tests/unit/test_models.py::test_model_instantiation_and_dump[RegisterSubjectRequest] PASSED [ 60%]
tests/unit/test_models.py::test_model_instantiation_and_dump[UpdateScheduledRecordRequest] PASSED [ 60%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Site] PASSED [ 60%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Study] PASSED [ 60%]
tests/unit/test_models.py::test_model_instantiation_and_dump[FormStructure] PASSED [ 61%]
tests/unit/test_models.py::test_model_instantiation_and_dump[IntervalStructure] PASSED [ 61%]
tests/unit/test_models.py::test_model_instantiation_and_dump[StudyStructure] PASSED [ 61%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Subject] PASSED [ 61%]
tests/unit/test_models.py::test_model_instantiation_and_dump[SubjectKeyword] PASSED [ 61%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Role] PASSED [ 61%]
tests/unit/test_models.py::test_model_instantiation_and_dump[User] PASSED [ 62%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Variable] PASSED [ 62%]
tests/unit/test_models.py::test_model_instantiation_and_dump[Visit] PASSED [ 62%]
tests/unit/test_models.py::test_missing_required_fields[Coding] PASSED   [ 62%]
tests/unit/test_models.py::test_missing_required_fields[Form] PASSED     [ 62%]
tests/unit/test_models.py::test_missing_required_fields[FormSummary] PASSED [ 62%]
tests/unit/test_models.py::test_missing_required_fields[Interval] PASSED [ 63%]
tests/unit/test_models.py::test_missing_required_fields[Job] PASSED      [ 63%]
tests/unit/test_models.py::test_missing_required_fields[JobStatus] PASSED [ 63%]
tests/unit/test_models.py::test_missing_required_fields[Query] PASSED    [ 63%]
tests/unit/test_models.py::test_missing_required_fields[QueryComment] PASSED [ 63%]
tests/unit/test_models.py::test_missing_required_fields[RecordRevision] PASSED [ 63%]
tests/unit/test_models.py::test_missing_required_fields[BaseRecordRequest] PASSED [ 64%]
tests/unit/test_models.py::test_missing_required_fields[CreateNewRecordRequest] PASSED [ 64%]
tests/unit/test_models.py::test_missing_required_fields[Keyword] PASSED  [ 64%]
tests/unit/test_models.py::test_missing_required_fields[Record] PASSED   [ 64%]
tests/unit/test_models.py::test_missing_required_fields[RecordData] PASSED [ 64%]
tests/unit/test_models.py::test_missing_required_fields[RecordJobResponse] PASSED [ 64%]
tests/unit/test_models.py::test_missing_required_fields[RegisterSubjectRequest] PASSED [ 65%]
tests/unit/test_models.py::test_missing_required_fields[UpdateScheduledRecordRequest] PASSED [ 65%]
tests/unit/test_models.py::test_missing_required_fields[Site] PASSED     [ 65%]
tests/unit/test_models.py::test_missing_required_fields[Study] PASSED    [ 65%]
tests/unit/test_models.py::test_missing_required_fields[FormStructure] PASSED [ 65%]
tests/unit/test_models.py::test_missing_required_fields[IntervalStructure] PASSED [ 65%]
tests/unit/test_models.py::test_missing_required_fields[StudyStructure] PASSED [ 66%]
tests/unit/test_models.py::test_missing_required_fields[Subject] PASSED  [ 66%]
tests/unit/test_models.py::test_missing_required_fields[SubjectKeyword] PASSED [ 66%]
tests/unit/test_models.py::test_missing_required_fields[Role] PASSED     [ 66%]
tests/unit/test_models.py::test_missing_required_fields[User] PASSED     [ 66%]
tests/unit/test_models.py::test_missing_required_fields[Variable] PASSED [ 67%]
tests/unit/test_models.py::test_missing_required_fields[Visit] PASSED    [ 67%]
tests/unit/test_models.py::test_invalid_int_defaults[Coding] PASSED      [ 67%]
tests/unit/test_models.py::test_invalid_int_defaults[Form] PASSED        [ 67%]
tests/unit/test_models.py::test_invalid_int_defaults[FormSummary] PASSED [ 67%]
tests/unit/test_models.py::test_invalid_int_defaults[Interval] PASSED    [ 67%]
tests/unit/test_models.py::test_invalid_int_defaults[Job] SKIPPED (n...) [ 68%]
tests/unit/test_models.py::test_invalid_int_defaults[JobStatus] PASSED   [ 68%]
tests/unit/test_models.py::test_invalid_int_defaults[Query] PASSED       [ 68%]
tests/unit/test_models.py::test_invalid_int_defaults[QueryComment] PASSED [ 68%]
tests/unit/test_models.py::test_invalid_int_defaults[RecordRevision] PASSED [ 68%]
tests/unit/test_models.py::test_invalid_int_defaults[BaseRecordRequest] SKIPPED [ 68%]
tests/unit/test_models.py::test_invalid_int_defaults[CreateNewRecordRequest] SKIPPED [ 69%]
tests/unit/test_models.py::test_invalid_int_defaults[Keyword] PASSED     [ 69%]
tests/unit/test_models.py::test_invalid_int_defaults[Record] PASSED      [ 69%]
tests/unit/test_models.py::test_invalid_int_defaults[RecordData] SKIPPED [ 69%]
tests/unit/test_models.py::test_invalid_int_defaults[RecordJobResponse] SKIPPED [ 69%]
tests/unit/test_models.py::test_invalid_int_defaults[RegisterSubjectRequest] SKIPPED [ 69%]
tests/unit/test_models.py::test_invalid_int_defaults[UpdateScheduledRecordRequest] SKIPPED [ 70%]
tests/unit/test_models.py::test_invalid_int_defaults[Site] PASSED        [ 70%]
tests/unit/test_models.py::test_invalid_int_defaults[Study] PASSED       [ 70%]
tests/unit/test_models.py::test_invalid_int_defaults[FormStructure] SKIPPED [ 70%]
tests/unit/test_models.py::test_invalid_int_defaults[IntervalStructure] SKIPPED [ 70%]
tests/unit/test_models.py::test_invalid_int_defaults[StudyStructure] SKIPPED [ 70%]
tests/unit/test_models.py::test_invalid_int_defaults[Subject] PASSED     [ 71%]
tests/unit/test_models.py::test_invalid_int_defaults[SubjectKeyword] PASSED [ 71%]
tests/unit/test_models.py::test_invalid_int_defaults[Role] PASSED        [ 71%]
tests/unit/test_models.py::test_invalid_int_defaults[User] SKIPPED (...) [ 71%]
tests/unit/test_models.py::test_invalid_int_defaults[Variable] PASSED    [ 71%]
tests/unit/test_models.py::test_invalid_int_defaults[Visit] PASSED       [ 71%]
tests/unit/test_models_base_extra.py::test_sort_field_defaults PASSED    [ 72%]
tests/unit/test_models_base_extra.py::test_pagination_aliases_and_defaults PASSED [ 72%]
tests/unit/test_models_base_extra.py::test_error_and_metadata_parsing PASSED [ 72%]
tests/unit/test_models_base_extra.py::test_api_response_generic PASSED   [ 72%]
tests/unit/test_models_validators.py::test_parse_bool_various_inputs PASSED [ 72%]
tests/unit/test_models_validators.py::test_parse_int_or_default_and_str_default PASSED [ 72%]
tests/unit/test_models_validators.py::test_parse_list_and_dict_helpers PASSED [ 73%]
tests/unit/test_models_validators.py::test_parse_datetime_wrapper PASSED [ 73%]
tests/unit/test_models_validators.py::test_parse_datetime_default_date PASSED [ 73%]
tests/unit/test_models_validators.py::test_parse_datetime_parses_strings PASSED [ 73%]
tests/unit/test_poll_job.py::test_poll_job_success[False] PASSED         [ 73%]
tests/unit/test_poll_job.py::test_poll_job_success[True] PASSED          [ 73%]
tests/unit/test_poll_job.py::test_poll_job_timeout[False] PASSED         [ 74%]
tests/unit/test_poll_job.py::test_poll_job_timeout[True] PASSED          [ 74%]
tests/unit/test_poll_job.py::test_poll_job_failed[False] PASSED          [ 74%]
tests/unit/test_poll_job.py::test_poll_job_failed[True] PASSED           [ 74%]
tests/unit/test_post_smoke_record.py::test_submit_record_uses_configured_timeout PASSED [ 74%]
tests/unit/test_post_smoke_record.py::test_submit_record_reports_failure_details PASSED [ 74%]
tests/unit/test_post_smoke_record.py::test_build_record_returns_typed_values PASSED [ 75%]
tests/unit/test_post_smoke_record.py::test_build_record_optional_identifiers[kwargs0-extra0] PASSED [ 75%]
tests/unit/test_post_smoke_record.py::test_build_record_optional_identifiers[kwargs1-extra1] PASSED [ 75%]
tests/unit/test_post_smoke_record.py::test_build_record_optional_identifiers[kwargs2-extra2] PASSED [ 75%]
tests/unit/test_post_smoke_record.py::test_build_record_optional_identifiers[kwargs3-extra3] PASSED [ 75%]
tests/unit/test_post_smoke_record.py::test_discover_identifiers_returns_all PASSED [ 75%]
tests/unit/test_post_smoke_record.py::test_discover_identifiers_reports_missing PASSED [ 76%]
tests/unit/test_post_smoke_record.py::test_main_verbose_logs PASSED      [ 76%]
tests/unit/test_record_mapper.py::test_dataframe_builds_expected_structure PASSED [ 76%]
tests/unit/test_record_mapper.py::test_dataframe_whitelists_variables_and_forms PASSED [ 76%]
tests/unit/test_record_mapper.py::test_dataframe_empty_when_no_variables PASSED [ 76%]
tests/unit/test_record_mapper.py::test_invalid_visit_key_logs_warning PASSED [ 76%]
tests/unit/test_record_mapper.py::test_records_fetch_error_returns_empty PASSED [ 77%]
tests/unit/test_record_mapper.py::test_parsing_error_logs_warning PASSED [ 77%]
tests/unit/test_record_mapper.py::test_parse_records_counts_errors PASSED [ 77%]
tests/unit/test_schema_validator.py::test_validate_record_unknown_variable[False] PASSED [ 77%]
tests/unit/test_schema_validator.py::test_validate_record_unknown_variable[True] PASSED [ 77%]
tests/unit/test_schema_validator.py::test_validate_record_wrong_type[False] PASSED [ 77%]
tests/unit/test_schema_validator.py::test_validate_record_wrong_type[True] PASSED [ 78%]
tests/unit/test_schema_validator.py::test_validate_record_unknown_form[False] PASSED [ 78%]
tests/unit/test_schema_validator.py::test_validate_record_unknown_form[True] PASSED [ 78%]
tests/unit/test_schema_validator.py::test_refresh_called_when_form_not_cached[False] PASSED [ 78%]
tests/unit/test_schema_validator.py::test_refresh_called_when_form_not_cached[True] PASSED [ 78%]
tests/unit/test_schema_validator.py::test_validate_record_cached[False] PASSED [ 78%]
tests/unit/test_schema_validator.py::test_validate_record_cached[True] PASSED [ 79%]
tests/unit/test_sdk_async.py::test_async_sdk_initializes_async_client PASSED [ 79%]
tests/unit/test_sdk_async.py::test_async_context_management PASSED       [ 79%]
tests/unit/test_sdk_credentials.py::test_missing_both_keys PASSED        [ 79%]
tests/unit/test_sdk_credentials.py::test_missing_security_key PASSED     [ 79%]
tests/unit/test_sdk_credentials.py::test_missing_api_key PASSED          [ 79%]
tests/unit/test_sdk_credentials.py::test_initialization_succeeds PASSED  [ 80%]
tests/unit/test_sdk_entrypoint.py::test_env_var_credentials PASSED       [ 80%]
tests/unit/test_sdk_entrypoint.py::test_sdk_initialization_wires_endpoints_and_workflows PASSED [ 80%]
tests/unit/test_sdk_entrypoint.py::test_context_management_closes_client PASSED [ 80%]
tests/unit/test_sdk_entrypoint.py::test_convenience_methods_delegate_to_endpoints PASSED [ 80%]
tests/unit/test_sdk_retry_policy.py::test_initial_retry_policy_propagates_to_clients PASSED [ 80%]
tests/unit/test_sdk_retry_policy.py::test_retry_policy_propagates_to_clients PASSED [ 81%]
tests/unit/test_security_config.py::test_config_repr_masks_secrets PASSED [ 81%]
tests/unit/test_security_path_traversal.py::test_build_path_security PASSED [ 81%]
tests/unit/test_smoke.py::test_smoke_import PASSED                       [ 81%]
tests/unit/test_smoke.py::test_role_import PASSED                        [ 81%]
tests/unit/test_study_structure.py::test_get_study_structure_aggregates_related_data[False] PASSED [ 81%]
tests/unit/test_study_structure.py::test_get_study_structure_aggregates_related_data[True] PASSED [ 82%]
tests/unit/test_typed_values.py::test_value_for_each_type PASSED         [ 82%]
tests/unit/test_typed_values.py::test_canonical_type_synonyms PASSED     [ 82%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_with_z PASSED [ 82%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_with_offset PASSED [ 82%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_naive PASSED [ 82%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_millis_padding PASSED [ 83%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_micro_padding PASSED [ 83%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_invalid PASSED [ 83%]
tests/unit/test_utils_dates_and_filters.py::test_parse_iso_datetime_none PASSED [ 83%]
tests/unit/test_utils_dates_and_filters.py::test_format_iso_datetime_aware PASSED [ 83%]
tests/unit/test_utils_dates_and_filters.py::test_format_iso_datetime_naive PASSED [ 84%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_simple PASSED [ 84%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_multiple PASSED [ 84%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_tuple_and_list PASSED [ 84%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_bool_and_none PASSED [ 84%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_empty PASSED [ 84%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_snake_to_camel PASSED [ 85%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_snake_list PASSED [ 85%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_quotes PASSED [ 85%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_quote_spaces PASSED [ 85%]
tests/unit/test_utils_dates_and_filters.py::test_build_filter_string_backslashes PASSED [ 85%]
tests/unit/test_utils_init.py::test_lazy_load_pandas_functions PASSED    [ 85%]
tests/unit/test_utils_init.py::test_schema_objects_not_in_utils PASSED   [ 86%]
tests/unit/test_utils_init.py::test_getattr_unknown PASSED               [ 86%]
tests/unit/test_utils_pandas.py::test_records_to_dataframe_flatten PASSED [ 86%]
tests/unit/test_utils_pandas.py::test_records_to_dataframe_no_flatten PASSED [ 86%]
tests/unit/test_utils_pandas.py::test_records_to_dataframe_empty PASSED  [ 86%]
tests/unit/test_utils_pandas.py::test_export_records_csv PASSED          [ 86%]
tests/unit/test_utils_pandas.py::test_export_records_csv_no_flatten PASSED [ 87%]
tests/unit/test_utils_schema.py::test_schema_cache_refresh PASSED        [ 87%]
tests/unit/test_utils_schema.py::test_check_type_int PASSED              [ 87%]
tests/unit/test_utils_schema.py::test_check_type_other_types PASSED      [ 87%]
tests/unit/test_utils_schema.py::test_check_type_unknown_type PASSED     [ 87%]
tests/unit/test_utils_schema.py::test_validate_record_data_errors PASSED [ 87%]
tests/unit/test_utils_schema.py::test_validate_record_data_unknown_form PASSED [ 88%]
tests/unit/test_utils_schema.py::test_schema_validator_batch_calls_validate_record PASSED [ 88%]
tests/unit/test_utils_schema_async.py::test_async_schema_cache_refresh PASSED [ 88%]
tests/unit/test_utils_schema_async.py::test_validate_record_and_batch_async PASSED [ 88%]
tests/unit/test_utils_schema_async.py::test_unknown_form_refreshes_and_raises PASSED [ 88%]
tests/unit/test_utils_typing.py::test_dataframe_alias PASSED             [ 88%]
tests/unit/test_utils_typing.py::test_dataframe_alias_without_pandas PASSED [ 89%]
tests/unit/test_workflows_data_extraction.py::test_extract_records_by_criteria_filters_subject_and_visit PASSED [ 89%]
tests/unit/test_workflows_data_extraction.py::test_extract_audit_trail_builds_filters_and_dates PASSED [ 89%]
tests/unit/test_workflows_query_management.py::test_get_open_queries_filters_latest_comment PASSED [ 89%]
tests/unit/test_workflows_query_management.py::test_get_queries_for_subject_builds_combined_filter PASSED [ 89%]
tests/unit/test_workflows_query_management.py::test_get_query_state_counts_aggregates_states PASSED [ 89%]
tests/unit/test_workflows_query_management.py::test_get_queries_by_site_filters_using_subjects PASSED [ 90%]
tests/unit/test_workflows_query_management.py::test_get_queries_by_site_returns_empty_if_no_subjects PASSED [ 90%]
tests/unit/test_workflows_query_management.py::test_get_queries_by_site_with_space_in_name PASSED [ 90%]
tests/unit/test_workflows_record_update.py::test_create_or_update_records_no_wait PASSED [ 90%]
tests/unit/test_workflows_record_update.py::test_create_or_update_records_wait_for_completion PASSED [ 90%]
tests/unit/test_workflows_record_update.py::test_update_scheduled_record_builds_payload PASSED [ 90%]
tests/unit/test_workflows_record_update.py::test_create_or_update_records_validation PASSED [ 91%]
tests/unit/test_workflows_register_subjects.py::test_register_subjects_passes_records_correctly PASSED [ 91%]
tests/unit/test_workflows_register_subjects.py::test_register_subjects_missing_site PASSED [ 91%]
tests/unit/test_workflows_register_subjects.py::test_register_subjects_missing_subject PASSED [ 91%]
tests/unit/test_workflows_register_subjects.py::test_register_subjects_missing_subject_api_error PASSED [ 91%]
tests/unit/test_workflows_register_subjects.py::test_register_subjects_unexpected_error_propagates PASSED [ 91%]
tests/unit/test_workflows_subject_data.py::test_get_all_subject_data_aggregates_across_endpoints PASSED [ 92%]
tests/unit/utils/test_json_logging.py::test_configure_json_logging_uses_json_import PASSED [ 92%]
tests/unit/utils/test_json_logging.py::test_configure_json_logging_uses_jsonlogger_import PASSED [ 92%]
tests/unit/utils/test_url.py::test_sanitize_base_url[https://x/api-https://x] PASSED [ 92%]
tests/unit/utils/test_url.py::test_sanitize_base_url[https://x/api/-https://x] PASSED [ 92%]
tests/unit/utils/test_url.py::test_sanitize_base_url[https://x//-https://x] PASSED [ 92%]
tests/unit/utils/test_url.py::test_sanitize_base_url[https://x-https://x] PASSED [ 93%]
tests/utils/test_fake_data.py::test_fake_subject_parses PASSED           [ 93%]
tests/utils/test_fake_data.py::test_fake_site_parses PASSED              [ 93%]
tests/utils/test_fake_data.py::test_fake_interval_parses PASSED          [ 93%]
tests/utils/test_fake_data.py::test_fake_query_parses PASSED             [ 93%]
tests/utils/test_fake_data.py::test_fake_record_parses PASSED            [ 93%]
tests/utils/test_fake_data.py::test_fake_record_with_schema PASSED       [ 94%]
tests/utils/test_fake_data.py::test_fake_form_parses PASSED              [ 94%]
tests/utils/test_fake_data.py::test_fake_variable_parses PASSED          [ 94%]
tests/utils/test_fake_data.py::test_fake_visit_parses PASSED             [ 94%]
tests/utils/test_fake_data.py::test_fake_coding_parses PASSED            [ 94%]
tests/utils/test_fake_data.py::test_fake_record_revision_parses PASSED   [ 94%]
tests/utils/test_fake_data.py::test_fake_study_parses PASSED             [ 95%]
tests/utils/test_fake_data.py::test_fake_job_parses PASSED               [ 95%]
tests/utils/test_fake_data.py::test_fake_user_parses PASSED              [ 95%]
tests/utils/test_fake_data.py::test_fake_forms_for_cache_returns_forms PASSED [ 95%]
tests/utils/test_fake_data.py::test_fake_variables_for_cache_and_schema_refresh PASSED [ 95%]
tests/utils/test_fake_data.py::test_fake_forms_for_cache_from_json PASSED [ 95%]
tests/utils/test_fake_data.py::test_fake_variables_for_cache_from_json PASSED [ 96%]
tests/utils/test_fake_data.py::test_validate_record_data_with_cached_schema PASSED [ 96%]
tests/utils/test_lazy_attrs.py::test_lazy_attrs_available PASSED         [ 96%]
tests/workflows/test_data_extraction.py::test_extract_records_by_criteria_filters_subject_and_visit PASSED [ 96%]
tests/workflows/test_data_extraction.py::test_extract_audit_trail_builds_filters_and_dates PASSED [ 96%]
tests/workflows/test_query_management.py::test_get_open_queries_filters_latest_comment PASSED [ 96%]
tests/workflows/test_query_management.py::test_get_queries_for_subject_builds_combined_filter PASSED [ 97%]
tests/workflows/test_query_management.py::test_get_query_state_counts_aggregates_states PASSED [ 97%]
tests/workflows/test_query_management.py::test_get_queries_by_site_filters_using_subjects PASSED [ 97%]
tests/workflows/test_query_management.py::test_get_queries_by_site_returns_empty_if_no_subjects PASSED [ 97%]
tests/workflows/test_query_management.py::test_get_queries_by_site_with_space_in_name PASSED [ 97%]
tests/workflows/test_record_update.py::test_create_or_update_records_no_wait[False] PASSED [ 97%]
tests/workflows/test_record_update.py::test_create_or_update_records_no_wait[True] PASSED [ 98%]
tests/workflows/test_record_update.py::test_create_or_update_records_validation[False] PASSED [ 98%]
tests/workflows/test_record_update.py::test_create_or_update_records_validation[True] PASSED [ 98%]
tests/workflows/test_record_update.py::test_create_or_update_records_unknown_form_key[False] PASSED [ 98%]
tests/workflows/test_record_update.py::test_create_or_update_records_unknown_form_key[True] PASSED [ 98%]
tests/workflows/test_record_update.py::test_create_or_update_records_refresh_and_validate[False] PASSED [ 98%]
tests/workflows/test_record_update.py::test_create_or_update_records_refresh_and_validate[True] PASSED [ 99%]
tests/workflows/test_record_update.py::test_create_or_update_records_wait_for_completion[False] PASSED [ 99%]
tests/workflows/test_record_update.py::test_create_or_update_records_wait_for_completion[True] PASSED [ 99%]
tests/workflows/test_register_subjects.py::test_register_subjects_passes_records_correctly PASSED [ 99%]
tests/workflows/test_subject_data.py::test_get_all_subject_data_aggregates_across_endpoints PASSED [ 99%]
tests/workflows/test_subject_data.py::test_get_all_subject_data_returns_empty_results PASSED [100%]

=============================== warnings summary ===============================
../home/jules/.cache/pypoetry/virtualenvs/imednet-9TtSrW0h-py3.12/lib/python3.12/site-packages/pytest_asyncio/plugin.py:234
  /home/jules/.cache/pypoetry/virtualenvs/imednet-9TtSrW0h-py3.12/lib/python3.12/site-packages/pytest_asyncio/plugin.py:234: PytestDeprecationWarning: async_sdk is asynchronous and explicitly requests the "event_loop" fixture. Asynchronous fixtures and test functions should use "asyncio.get_running_loop()" instead.
    warnings.warn(

tests/integration/test_export_airflow_integration.py::test_to_s3_operator_uploads
tests/integration/test_export_airflow_integration.py::test_to_s3_operator_uploads
tests/integration/test_export_airflow_integration.py::test_to_s3_operator_uploads
  /home/jules/.cache/pypoetry/virtualenvs/imednet-9TtSrW0h-py3.12/lib/python3.12/site-packages/botocore/auth.py:425: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    datetime_now = datetime.datetime.utcnow()

tests/integration/test_workflows_integration.py::test_record_update_submit_and_wait
  /app/imednet/validation/_base.py:16: DeprecationWarning: imednet.validation.schema is deprecated; use imednet.validation.cache
    from .schema import validate_record_data

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================= 499 passed, 95 skipped, 5 warnings in 19.12s =================
